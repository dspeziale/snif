{% extends "base.html" %}

{% block title %}Menu Management{% endblock %}
{% block page_title %}Menu Management{% endblock %}

{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{{ url_for('index') }}">Home</a></li>
<li class="breadcrumb-item"><a href="{{ url_for('admin_dashboard') }}">Admin</a></li>
<li class="breadcrumb-item active" aria-current="page">Menu</li>
{% endblock %}

{% block content %}
<!-- Menu Actions -->
<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">
          <i class="bi bi-tools me-2"></i>Menu Actions
        </h3>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-8">
            <p class="text-muted">
              Manage your application's navigation menu. You can add, edit, reorder, and delete menu items.
              Changes will be reflected immediately in the sidebar navigation.
            </p>
          </div>
          <div class="col-md-4 text-end">
            <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#newMenuItemModal">
              <i class="bi bi-plus-circle me-1"></i>Add Menu Item
            </button>
            <button type="button" class="btn btn-warning" onclick="reloadMenuPreview()">
              <i class="bi bi-arrow-clockwise me-1"></i>Refresh
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Menu Tree Structure -->
<div class="row">
  <div class="col-md-8">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">
          <i class="bi bi-list-nested me-2"></i>Menu Structure
        </h3>
        <div class="card-tools">
          <span class="badge bg-primary">{{ sidebar_menu|length }} items</span>
        </div>
      </div>
      <div class="card-body">
        <div id="menu-tree" class="menu-tree">
          {% if sidebar_menu %}
            {% for item in sidebar_menu %}
            <div class="menu-item-container" data-item-id="{{ item.id }}">
              <div class="menu-item d-flex justify-content-between align-items-center p-3 mb-2 border rounded
                          {% if item.active %}bg-light-primary{% endif %}">
                <div class="menu-item-info d-flex align-items-center">
                  <div class="menu-drag-handle me-3">
                    <i class="bi bi-grip-vertical text-muted"></i>
                  </div>
                  <div class="menu-icon me-3">
                    <i class="bi {{ item.icon or 'bi-circle' }} text-primary" style="font-size: 1.2em;"></i>
                  </div>
                  <div class="menu-details">
                    <div class="menu-title">
                      <strong>{{ item.title }}</strong>
                      {% if item.active %}
                      <span class="badge bg-success badge-sm ms-2">Active</span>
                      {% endif %}
                      {% if not item.enabled %}
                      <span class="badge bg-secondary badge-sm ms-2">Disabled</span>
                      {% endif %}
                    </div>
                    <div class="menu-url">
                      <small class="text-muted">
                        {% if item.url %}
                        URL: <code>{{ item.url }}</code>
                        {% else %}
                        No URL (parent item)
                        {% endif %}
                      </small>
                    </div>
                  </div>
                </div>
                <div class="menu-actions">
                  <div class="btn-group btn-group-sm" role="group">
                    <button class="btn btn-outline-primary" onclick="editMenuItem({{ item.id }})" title="Edit">
                      <i class="bi bi-pencil"></i>
                    </button>
                    <button class="btn btn-outline-success" onclick="addSubMenuItem({{ item.id }})" title="Add Submenu">
                      <i class="bi bi-plus"></i>
                    </button>
                    <button class="btn btn-outline-warning" onclick="toggleMenuItem({{ item.id }})" title="Toggle Active">
                      <i class="bi bi-toggle-{{ 'on' if item.active else 'off' }}"></i>
                    </button>
                    <button class="btn btn-outline-danger" onclick="deleteMenuItem({{ item.id }})" title="Delete">
                      <i class="bi bi-trash"></i>
                    </button>
                  </div>
                </div>
              </div>

              <!-- Submenu items -->
              {% if item.children %}
              <div class="submenu-container ms-4">
                {% for child in item.children %}
                <div class="menu-item-container" data-item-id="{{ child.id }}">
                  <div class="menu-item d-flex justify-content-between align-items-center p-2 mb-1 border rounded-sm
                              {% if child.active %}bg-light-success{% endif %}">
                    <div class="menu-item-info d-flex align-items-center">
                      <div class="menu-drag-handle me-2">
                        <i class="bi bi-grip-vertical text-muted" style="font-size: 0.8em;"></i>
                      </div>
                      <div class="menu-icon me-2">
                        <i class="bi {{ child.icon or 'bi-circle' }} text-secondary"></i>
                      </div>
                      <div class="menu-details">
                        <div class="menu-title">
                          <span>{{ child.title }}</span>
                          {% if child.active %}
                          <span class="badge bg-success badge-sm ms-1">Active</span>
                          {% endif %}
                        </div>
                        <div class="menu-url">
                          <small class="text-muted">
                            {% if child.url %}
                            <code>{{ child.url }}</code>
                            {% else %}
                            No URL
                            {% endif %}
                          </small>
                        </div>
                      </div>
                    </div>
                    <div class="menu-actions">
                      <div class="btn-group btn-group-sm" role="group">
                        <button class="btn btn-outline-primary btn-sm" onclick="editMenuItem({{ child.id }})" title="Edit">
                          <i class="bi bi-pencil"></i>
                        </button>
                        {% if not child.children %}
                        <button class="btn btn-outline-success btn-sm" onclick="addSubMenuItem({{ child.id }})" title="Add Submenu">
                          <i class="bi bi-plus"></i>
                        </button>
                        {% endif %}
                        <button class="btn btn-outline-warning btn-sm" onclick="toggleMenuItem({{ child.id }})" title="Toggle Active">
                          <i class="bi bi-toggle-{{ 'on' if child.active else 'off' }}"></i>
                        </button>
                        <button class="btn btn-outline-danger btn-sm" onclick="deleteMenuItem({{ child.id }})" title="Delete">
                          <i class="bi bi-trash"></i>
                        </button>
                      </div>
                    </div>
                  </div>

                  <!-- Third level submenu -->
                  {% if child.children %}
                  <div class="submenu-container ms-3">
                    {% for subchild in child.children %}
                    <div class="menu-item-container" data-item-id="{{ subchild.id }}">
                      <div class="menu-item d-flex justify-content-between align-items-center p-2 mb-1 border rounded-sm
                                  {% if subchild.active %}bg-light-info{% endif %}">
                        <div class="menu-item-info d-flex align-items-center">
                          <div class="menu-drag-handle me-2">
                            <i class="bi bi-grip-vertical text-muted" style="font-size: 0.7em;"></i>
                          </div>
                          <div class="menu-icon me-2">
                            <i class="bi {{ subchild.icon or 'bi-record-circle-fill' }} text-info" style="font-size: 0.8em;"></i>
                          </div>
                          <div class="menu-details">
                            <div class="menu-title">
                              <small>{{ subchild.title }}</small>
                              {% if subchild.active %}
                              <span class="badge bg-success badge-sm ms-1">Active</span>
                              {% endif %}
                            </div>
                            <div class="menu-url">
                              <small class="text-muted">
                                {% if subchild.url %}
                                <code style="font-size: 0.7em;">{{ subchild.url }}</code>
                                {% endif %}
                              </small>
                            </div>
                          </div>
                        </div>
                        <div class="menu-actions">
                          <div class="btn-group btn-group-sm" role="group">
                            <button class="btn btn-outline-primary btn-sm" onclick="editMenuItem({{ subchild.id }})" title="Edit">
                              <i class="bi bi-pencil" style="font-size: 0.8em;"></i>
                            </button>
                            <button class="btn btn-outline-warning btn-sm" onclick="toggleMenuItem({{ subchild.id }})" title="Toggle Active">
                              <i class="bi bi-toggle-{{ 'on' if subchild.active else 'off' }}" style="font-size: 0.8em;"></i>
                            </button>
                            <button class="btn btn-outline-danger btn-sm" onclick="deleteMenuItem({{ subchild.id }})" title="Delete">
                              <i class="bi bi-trash" style="font-size: 0.8em;"></i>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    {% endfor %}
                  </div>
                  {% endif %}
                </div>
                {% endfor %}
              </div>
              {% endif %}
            </div>
            {% endfor %}
          {% else %}
          <div class="text-center text-muted py-5">
            <i class="bi bi-list display-4"></i>
            <br>
            <p>No menu items found</p>
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#newMenuItemModal">
              <i class="bi bi-plus-circle me-1"></i>Add First Menu Item
            </button>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <!-- Menu Preview -->
  <div class="col-md-4">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">
          <i class="bi bi-eye me-2"></i>Live Preview
        </h3>
      </div>
      <div class="card-body">
        <div class="menu-preview bg-dark text-light p-3 rounded" style="min-height: 400px;">
          <h6 class="text-light mb-3">
            <i class="bi bi-list me-2"></i>Sidebar Menu Preview
          </h6>
          <div id="menu-preview-content">
            {% if sidebar_menu %}
              {% for item in sidebar_menu %}
                {% if item.enabled %}
                <div class="menu-preview-item mb-2">
                  <div class="d-flex align-items-center p-2 rounded {% if item.active %}bg-primary{% endif %}">
                    <i class="bi {{ item.icon or 'bi-circle' }} me-2"></i>
                    <span class="{% if item.active %}fw-bold{% endif %}">{{ item.title }}</span>
                    {% if item.children %}
                    <i class="bi bi-chevron-right ms-auto"></i>
                    {% endif %}
                  </div>

                  {% if item.children and item.active %}
                  <div class="submenu-preview ms-3 mt-1">
                    {% for child in item.children %}
                      {% if child.enabled %}
                      <div class="d-flex align-items-center p-1 mb-1 rounded {% if child.active %}bg-success{% endif %}">
                        <i class="bi {{ child.icon or 'bi-circle' }} me-2" style="font-size: 0.8em;"></i>
                        <small class="{% if child.active %}fw-bold{% endif %}">{{ child.title }}</small>
                      </div>
                      {% endif %}
                    {% endfor %}
                  </div>
                  {% endif %}
                </div>
                {% endif %}
              {% endfor %}
            {% else %}
            <div class="text-center text-muted">
              <i class="bi bi-list-ul display-6"></i>
              <br>
              <small>No menu items to preview</small>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    <!-- Menu Statistics -->
    <div class="card mt-3">
      <div class="card-header">
        <h3 class="card-title">
          <i class="bi bi-graph-up me-2"></i>Menu Statistics
        </h3>
      </div>
      <div class="card-body">
        <div class="row text-center">
          <div class="col-6">
            <div class="bg-primary text-white p-3 rounded mb-2">
              <h4>{{ sidebar_menu|length }}</h4>
              <small>Top Level</small>
            </div>
          </div>
          <div class="col-6">
            <div class="bg-success text-white p-3 rounded mb-2">
              <h4>
                {% set submenu_count = 0 %}
                {% for item in sidebar_menu %}
                  {% if item.children %}
                    {% set submenu_count = submenu_count + item.children|length %}
                  {% endif %}
                {% endfor %}
                {{ submenu_count }}
              </h4>
              <small>Submenu</small>
            </div>
          </div>
          <div class="col-6">
            <div class="bg-warning text-dark p-3 rounded">
              <h4>
                {% set active_count = 0 %}
                {% for item in sidebar_menu %}
                  {% if item.active %}
                    {% set active_count = active_count + 1 %}
                  {% endif %}
                {% endfor %}
                {{ active_count }}
              </h4>
              <small>Active</small>
            </div>
          </div>
          <div class="col-6">
            <div class="bg-info text-white p-3 rounded">
              <h4>
                {% set enabled_count = 0 %}
                {% for item in sidebar_menu %}
                  {% if item.enabled %}
                    {% set enabled_count = enabled_count + 1 %}
                  {% endif %}
                {% endfor %}
                {{ enabled_count }}
              </h4>
              <small>Enabled</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- New Menu Item Modal -->
<div class="modal fade" id="newMenuItemModal" tabindex="-1" aria-labelledby="newMenuItemModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="newMenuItemModalLabel">Add New Menu Item</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="newMenuItemForm">
          <div class="row">
            <div class="col-md-8">
              <div class="mb-3">
                <label for="menuItemTitle" class="form-label">Title *</label>
                <input type="text" class="form-control" id="menuItemTitle" required
                       placeholder="Enter menu item title">
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <label for="menuItemIcon" class="form-label">Icon</label>
                <div class="input-group">
                  <span class="input-group-text">bi</span>
                  <input type="text" class="form-control" id="menuItemIcon"
                         placeholder="speedometer" value="circle">
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-8">
              <div class="mb-3">
                <label for="menuItemUrl" class="form-label">URL</label>
                <input type="text" class="form-control" id="menuItemUrl"
                       placeholder="/dashboard or #" value="#">
                <small class="form-text text-muted">
                  Use "#" for parent items without links
                </small>
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <label for="menuItemParent" class="form-label">Parent Item</label>
                <select class="form-select" id="menuItemParent">
                  <option value="">Top Level</option>
                  {% for item in sidebar_menu %}
                    <option value="{{ item.id }}">{{ item.title }}</option>
                    {% if item.children %}
                      {% for child in item.children %}
                        <option value="{{ child.id }}">-- {{ child.title }}</option>
                      {% endfor %}
                    {% endif %}
                  {% endfor %}
                </select>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label for="menuItemOrder" class="form-label">Sort Order</label>
                <input type="number" class="form-control" id="menuItemOrder"
                       min="0" value="0">
                <small class="form-text text-muted">
                  Lower numbers appear first
                </small>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Options</label>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="menuItemActive">
                  <label class="form-check-label" for="menuItemActive">
                    Set as Active
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="menuItemEnabled" checked>
                  <label class="form-check-label" for="menuItemEnabled">
                    Enabled
                  </label>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="createMenuItem()">
          <i class="bi bi-plus-circle me-1"></i>Add Menu Item
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Edit Menu Item Modal -->
<div class="modal fade" id="editMenuItemModal" tabindex="-1" aria-labelledby="editMenuItemModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editMenuItemModalLabel">Edit Menu Item</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="editMenuItemContent">
        <!-- Content will be populated by JavaScript -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="updateMenuItem()">
          <i class="bi bi-check-circle me-1"></i>Update Menu Item
        </button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
let currentEditingItemId = null;

// Create new menu item
function createMenuItem() {
  const formData = {
    title: document.getElementById('menuItemTitle').value,
    icon: 'bi-' + document.getElementById('menuItemIcon').value,
    url: document.getElementById('menuItemUrl').value,
    parent_id: document.getElementById('menuItemParent').value || null,
    sort_order: parseInt(document.getElementById('menuItemOrder').value) || 0,
    active: document.getElementById('menuItemActive').checked,
    enabled: document.getElementById('menuItemEnabled').checked
  };

  if (!formData.title) {
    alert('Please enter a menu item title.');
    return;
  }

  fetch('/api/menu/items', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(formData)
  })
  .then(response => response.json())
  .then(data => {
    if (data.success) {
      const modal = bootstrap.Modal.getInstance(document.getElementById('newMenuItemModal'));
      modal.hide();
      location.reload();
    } else {
      alert('Error: ' + data.error);
    }
  })
  .catch(error => {
    console.error('Error:', error);
    alert('Error creating menu item');
  });
}

// Edit menu item
function editMenuItem(itemId) {
  currentEditingItemId = itemId;

  // Find the item data from the current menu structure
  const itemContainer = document.querySelector(`[data-item-id="${itemId}"]`);
  if (!itemContainer) {
    alert('Menu item not found');
    return;
  }

  const titleElement = itemContainer.querySelector('.menu-title strong, .menu-title span, .menu-title small');
  const urlElement = itemContainer.querySelector('.menu-url code');
  const iconElement = itemContainer.querySelector('.menu-icon i');
  const activeElement = itemContainer.querySelector('.badge.bg-success');

  const title = titleElement ? titleElement.textContent.trim() : '';
  const url = urlElement ? urlElement.textContent.trim() : '#';
  const iconClass = iconElement ? iconElement.className : 'bi bi-circle';
  const icon = iconClass.replace('bi bi-', '').split(' ')[0]; // Get the icon name
  const isActive = activeElement !== null;

  document.getElementById('editMenuItemContent').innerHTML = `
    <form id="editMenuItemForm">
      <div class="row">
        <div class="col-md-8">
          <div class="mb-3">
            <label for="editMenuItemTitle" class="form-label">Title *</label>
            <input type="text" class="form-control" id="editMenuItemTitle" required value="${title}">
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label for="editMenuItemIcon" class="form-label">Icon</label>
            <div class="input-group">
              <span class="input-group-text">bi</span>
              <input type="text" class="form-control" id="editMenuItemIcon" value="${icon}">
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8">
          <div class="mb-3">
            <label for="editMenuItemUrl" class="form-label">URL</label>
            <input type="text" class="form-control" id="editMenuItemUrl" value="${url}">
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label for="editMenuItemOrder" class="form-label">Sort Order</label>
            <input type="number" class="form-control" id="editMenuItemOrder" min="0" value="0">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label">Options</label>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="editMenuItemActive" ${isActive ? 'checked' : ''}>
              <label class="form-check-label" for="editMenuItemActive">
                Set as Active
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="editMenuItemEnabled" checked>
              <label class="form-check-label" for="editMenuItemEnabled">
                Enabled
              </label>
            </div>
          </div>
        </div>
      </div>
    </form>
  `;

  const modal = new bootstrap.Modal(document.getElementById('editMenuItemModal'));
  modal.show();
}

// Update menu item
function updateMenuItem() {
  if (!currentEditingItemId) return;

  const formData = {
    title: document.getElementById('editMenuItemTitle').value,
    icon: 'bi-' + document.getElementById('editMenuItemIcon').value,
    url: document.getElementById('editMenuItemUrl').value,
    sort_order: parseInt(document.getElementById('editMenuItemOrder').value) || 0,
    active: document.getElementById('editMenuItemActive').checked,
    enabled: document.getElementById('editMenuItemEnabled').checked
  };

  if (!formData.title) {
    alert('Please enter a menu item title.');
    return;
  }

  fetch(`/api/menu/items/${currentEditingItemId}`, {
    method: 'PUT',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(formData)
  })
  .then(response => response.json())
  .then(data => {
    if (data.success) {
      const modal = bootstrap.Modal.getInstance(document.getElementById('editMenuItemModal'));
      modal.hide();
      location.reload();
    } else {
      alert('Error: ' + data.error);
    }
  })
  .catch(error => {
    console.error('Error:', error);
    alert('Error updating menu item');
  });
}

// Add submenu item
function addSubMenuItem(parentId) {
  // Set the parent in the new item modal
  document.getElementById('menuItemParent').value = parentId;

  const modal = new bootstrap.Modal(document.getElementById('newMenuItemModal'));
  modal.show();
}

// Toggle menu item active state
function toggleMenuItem(itemId) {
  // For simplicity, we'll just set this item as active and others as inactive
  fetch('/api/menu/set-active', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ url: window.location.pathname })
  })
  .then(response => response.json())
  .then(data => {
    if (data.success) {
      location.reload();
    } else {
      alert('Error: ' + data.error);
    }
  })
  .catch(error => {
    console.error('Error:', error);
    alert('Error toggling menu item');
  });
}

// Delete menu item
function deleteMenuItem(itemId) {
  if (confirm('⚠️ Are you sure you want to delete this menu item? This will also delete all its submenu items. This action cannot be undone.')) {
    fetch(`/api/menu/items/${itemId}`, {
      method: 'DELETE',
      headers: { 'Content-Type': 'application/json' }
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        location.reload();
      } else {
        alert('Error: ' + data.error);
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert('Error deleting menu item');
    });
  }
}

// Reload menu preview
function reloadMenuPreview() {
  location.reload();
}

// Event listeners
document.addEventListener('DOMContentLoaded', function() {
  // Clear form when modal is hidden
  document.getElementById('newMenuItemModal').addEventListener('hidden.bs.modal', function() {
    document.getElementById('newMenuItemForm').reset();
    document.getElementById('menuItemEnabled').checked = true;
    document.getElementById('menuItemIcon').value = 'circle';
    document.getElementById('menuItemUrl').value = '#';
    document.getElementById('menuItemOrder').value = '0';
  });

  // Clear edit form when modal is hidden
  document.getElementById('editMenuItemModal').addEventListener('hidden.bs.modal', function() {
    currentEditingItemId = null;
    document.getElementById('editMenuItemContent').innerHTML = '';
  });

  // Add drag and drop functionality (basic implementation)
  if (window.Sortable) {
    const menuTree = document.getElementById('menu-tree');
    if (menuTree) {
      Sortable.create(menuTree, {
        animation: 150,
        handle: '.menu-drag-handle',
        onEnd: function(evt) {
          // Here you would implement the reordering logic
          console.log('Menu item moved from', evt.oldIndex, 'to', evt.newIndex);
          // For now, just reload to show the current order
          // In a real implementation, you'd send an API call to update the order
        }
      });
    }
  }
});
</script>

<style>
.menu-tree .menu-item {
  transition: all 0.2s ease;
}

.menu-tree .menu-item:hover {
  background-color: #f8f9fa !important;
}

.menu-drag-handle {
  cursor: move;
}

.menu-drag-handle:hover {
  color: #007bff !important;
}

.bg-light-primary {
  background-color: rgba(0, 123, 255, 0.1) !important;
}

.bg-light-success {
  background-color: rgba(40, 167, 69, 0.1) !important;
}

.bg-light-info {
  background-color: rgba(23, 162, 184, 0.1) !important;
}

.menu-preview-item {
  transition: all 0.2s ease;
}

.submenu-container {
  border-left: 2px solid #dee2e6;
  margin-left: 1rem;
  padding-left: 1rem;
}

.submenu-preview {
  border-left: 2px solid rgba(255, 255, 255, 0.3);
  margin-left: 1rem;
  padding-left: 1rem;
}
</style>
{% endblock %}